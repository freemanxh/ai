server:
1、安装
  docker pull docker pull chromadb/chroma
  docker run -d -v ./chroma_data:/chroma/chroma -p 8000:8000 -e IS_PERSISTENT=TRUE --name chromadb  chromadb/chroma:latest

client:
1、安装
  pip install chromadb

  import chromadb
  client=chromadb.HttpClient(host="192.168.0.6",port=8000)

2、嵌入向量
  from chromadb.utils import embedding_functions
3、默认嵌入模型 all-MiniLM-L6-v2
  default_ef=embedding_functions.DefaultEmbeddingFunction()
4、把文本转化为向量
  val=default_ef("foo")

5、OpenAI的嵌入模型
  openai_ef=embedding_functions.OpenAIEmbeddingFunction(
    api_key="",
    model_name="text-embedding-ada-002"
  )


client使用
1)heartbeat()
2)list_collections()
3)create_collection(name="",metadata={})
4)get_collection(name)
5)get_or_create_collection(name="",metadata={})
6)delete_collection(name) 
7)reset() #重置数据库，相当危险
8)get_version()
9)get_settings()

collection使用
1)count()
2)add(ids=["id1","id2","id3"],metadatas=[{"source1":"s1"},{"source2":"s2"},{"source3":"se"}],documents=["first","second","third"])
3)get() ids,where,limit,offset
4)peek()
5)query()  query_embeddings,query_texts,n_results
6)update() ids
7)upsert()
8)delete()





