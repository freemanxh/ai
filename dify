开发环境安装
  
1、下载源码
git clone https://github.com/langgenius/dify.git
2、进入docker文件夹
cp middleware.env.example middleware.env
3、启动docker compose
docker compose -f ./docker-compose.middleware.yaml up -d
4、测试postgresql
192.168.0.199:5432
db_name:dify
username:postgres
password:difyai123456


开发环境
api文件夹
3.复制环境变量配置文件
cp .env.example .env
4.生成随机密钥，并替换 .env 中 SECRET_KEY 的值（如不用命令可手动替换，未替换也并不影响服务启动）
awk -v key="$(openssl rand -base64 42)" '/^SECRET_KEY=/ {sub(/=.*/, "=" key)} 1' .env > temp_env && mv temp_env .env
5.poetry安装
可通过命令安装： pip install poetry

换源
全局：poetry config repositories.pypi https://pypi.tuna.tsinghua.edu.cn/simple
当前项目：poetry config repositories.pypi https://mirrors.aliyun.com/pypi/simple/ --local
查看换源配置：poetry config --list

6.使用poetry生成虚拟环境（这里用的是python3.12版本）
